<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.4"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FastLink: Fastlink</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="doxygen-awesome.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FastLink<span id="projectnumber">&#160;2.3.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.4 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search",'Search','.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

<div><div class="header">
  <div class="headertitle"><div class="title">Fastlink </div></div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p ><a class="anchor" id="md_README"></a> <a href="https://bestpractices.coreinfrastructure.org/projects/5944"><img src="https://bestpractices.coreinfrastructure.org/projects/5944/badge" alt="CII Best Practices" class="inline"/></a> <a href="https://discord.gg/uPveNfTuCJ"><img src="https://img.shields.io/discord/1036045973039890522?color=5865F2&amp;logo=discord&amp;logoColor=white" alt="Discord Server" class="inline"/></a> <a href="https://packagephobia.now.sh/result?p=@performanc/fastlink"><img src="https://packagephobia.now.sh/badge?p=@performanc/fastlink" alt="FastLink package size" class="inline"/></a></p>
<h1><a class="anchor" id="autotoc_md1"></a>
About</h1>
<p >FastLink is a NodeJs Lavalink client, with a low-level representation of the Lavalink API, with a simple and easy-to-use API.</p>
<p >Able to be installed in most NodeJs versions, and with low memory usage, FastLink is a good choice for your Discord bot.</p>
<h1><a class="anchor" id="autotoc_md2"></a>
Minimum requirements</h1>
<ul>
<li>NodeJs 13 or higher (ES6 requirements)</li>
<li>Lavalink v4.0.0 or higher</li>
</ul>
<h1><a class="anchor" id="autotoc_md3"></a>
Recommended requirements</h1>
<ul>
<li>NodeJs 18 or higher</li>
<li>NodeLink</li>
</ul>
<h1><a class="anchor" id="autotoc_md4"></a>
Installation</h1>
<p >You can install FastLink through npm:</p>
<div class="fragment"><div class="line">$ npm i @performanc/fastlink</div>
</div><!-- fragment --><p >And that's it, you'll be able to use FastLink in your project.</p>
<h1><a class="anchor" id="autotoc_md5"></a>
Example</h1>
<div class="fragment"><div class="line"><span class="keyword">import</span> FastLink from <span class="stringliteral">&#39;@performanc/fastlink&#39;</span></div>
<div class="line"><span class="keyword">import</span> Discord from <span class="stringliteral">&#39;discord.js&#39;</span></div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> client = <span class="keyword">new</span> Discord.Client({</div>
<div class="line">  partials: [</div>
<div class="line">    Discord.Partials.Channel</div>
<div class="line">  ],</div>
<div class="line">  intents: [</div>
<div class="line">    Discord.IntentsBitField.Flags.Guilds,</div>
<div class="line">    Discord.IntentsBitField.Flags.MessageContent,</div>
<div class="line">    Discord.IntentsBitField.Flags.GuildMessages,</div>
<div class="line">    Discord.IntentsBitField.Flags.GuildVoiceStates</div>
<div class="line">  ]</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> events = FastLink.node.connectNodes([{</div>
<div class="line">  hostname: <span class="stringliteral">&#39;127.0.0.1&#39;</span>,</div>
<div class="line">  secure: false,</div>
<div class="line">  password: <span class="stringliteral">&#39;youshallnotpass&#39;</span>,</div>
<div class="line">  port: 2333</div>
<div class="line">}], {</div>
<div class="line">  botId: <span class="stringliteral">&#39;Your bot Id here&#39;</span>,</div>
<div class="line">  shards: 1,</div>
<div class="line">  queue: true</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> prefix = <span class="charliteral">&#39;!&#39;</span></div>
<div class="line"> </div>
<div class="line">events.on(<span class="stringliteral">&#39;debug&#39;</span>, console.log)</div>
<div class="line"> </div>
<div class="line">client.on(<span class="stringliteral">&#39;messageCreate&#39;</span>, async (message: Discord.Message): Promise&lt;void&gt; =&gt; {</div>
<div class="line">  if (message.content.startsWith(prefix + <span class="stringliteral">&#39;decodetrack&#39;</span>)) {</div>
<div class="line">    const player = new FastLink.player.Player(message.guild.id)</div>
<div class="line"> </div>
<div class="line">    if (player.playerCreated() == false) {</div>
<div class="line">      message.channel.send(<span class="stringliteral">&#39;No player found.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">      return;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    let track = await player.decodeTrack(message.content.replace(prefix + <span class="stringliteral">&#39;decodetrack &#39;</span>, <span class="stringliteral">&#39;&#39;</span>))</div>
<div class="line"> </div>
<div class="line">    message.channel.send(JSON.stringify(track, null, 2))</div>
<div class="line"> </div>
<div class="line">    return;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  if (message.content.startsWith(prefix + <span class="stringliteral">&#39;play&#39;</span>)) {</div>
<div class="line">    if (!message.member.voice.channel) {</div>
<div class="line">      message.channel.send(<span class="stringliteral">&#39;You must be in a voice channel.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">      return;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    if (!FastLink.node.anyNodeAvailable()) {</div>
<div class="line">      message.channel.send(<span class="stringliteral">&#39;There aren\&#39;t nodes connected.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">      return;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> player = <span class="keyword">new</span> FastLink.player.Player(message.guild.id)</div>
<div class="line"> </div>
<div class="line">    if (player.playerCreated() == <span class="keyword">false</span>) player.createPlayer()</div>
<div class="line"> </div>
<div class="line">    player.connect(message.member.voice.channel.id.toString(), { mute: false, deaf: true }, (guildId, payload) =&gt; {</div>
<div class="line">      client.guilds.cache.get(guildId).shard.send(payload)</div>
<div class="line">    })</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> music = message.content.replace(prefix + <span class="stringliteral">&#39;play &#39;</span>, <span class="stringliteral">&#39;&#39;</span>)</div>
<div class="line">    <span class="keyword">const</span> track = await player.loadTrack((music.startsWith(<span class="stringliteral">&#39;https://&#39;</span>) ? <span class="stringliteral">&#39;&#39;</span> : <span class="stringliteral">&#39;ytsearch:&#39;</span>) + music)</div>
<div class="line"> </div>
<div class="line">    if (track.loadType == <span class="stringliteral">&#39;error&#39;</span>) {</div>
<div class="line">      message.channel.send(<span class="stringliteral">&#39;Something went wrong. &#39;</span> + track.data.message)</div>
<div class="line"> </div>
<div class="line">      return;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    if (track.loadType == <span class="stringliteral">&#39;empty&#39;</span>) {</div>
<div class="line">      message.channel.send(<span class="stringliteral">&#39;No matches found.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">      return;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    if (track.loadType == <span class="stringliteral">&#39;playlist&#39;</span>) {</div>
<div class="line">      player.update({ encodedTracks: track.data.tracks.map((track) =&gt; track.encoded) })</div>
<div class="line"> </div>
<div class="line">      message.channel.send(`Added ${track.data.tracks.length} songs to the queue, and playing ${track.data.tracks[0].info.title}.`)</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (track.loadType == <span class="stringliteral">&#39;track&#39;</span> || track.loadType == <span class="stringliteral">&#39;short&#39;</span>) {</div>
<div class="line">      player.update({ encodedTrack: track.data.encoded, })</div>
<div class="line"> </div>
<div class="line">      message.channel.send(`Playing ${track.data.info.title} from ${track.data.info.sourceName} from url search.`)</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (track.loadType == <span class="stringliteral">&#39;search&#39;</span>) {</div>
<div class="line">      player.update({ encodedTrack: track.data[0].encoded })</div>
<div class="line"> </div>
<div class="line">      message.channel.send(`Playing ${track.data[0].info.title} from ${track.data[0].info.sourceName} from search.`)</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (message.content.startsWith(prefix + <span class="stringliteral">&#39;volume&#39;</span>)) {</div>
<div class="line">    <span class="keyword">const</span> player = <span class="keyword">new</span> FastLink.player.Player(message.guild.id)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (player.playerCreated() == <span class="keyword">false</span>) {</div>
<div class="line">      message.channel.send(<span class="stringliteral">&#39;No player found.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    player.update({</div>
<div class="line">      volume: parseInt(message.content.replace(prefix + <span class="stringliteral">&#39;volume &#39;</span>, <span class="stringliteral">&#39;&#39;</span>))</div>
<div class="line">    })</div>
<div class="line"> </div>
<div class="line">    message.channel.send(`Volume <span class="keyword">set</span> to ${message.content.replace(prefix + <span class="stringliteral">&#39;volume &#39;</span>, <span class="stringliteral">&#39;&#39;</span>)}`)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (message.content.startsWith(prefix + <span class="stringliteral">&#39;pause&#39;</span>)) {</div>
<div class="line">    <span class="keyword">const</span> player = <span class="keyword">new</span> FastLink.player.Player(message.guild.id)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (player.playerCreated() == <span class="keyword">false</span>) {</div>
<div class="line">      message.channel.send(<span class="stringliteral">&#39;No player found.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    player.update({ paused: <span class="keyword">true</span> })</div>
<div class="line"> </div>
<div class="line">    message.channel.send(<span class="stringliteral">&#39;Paused.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (message.content.startsWith(prefix + <span class="stringliteral">&#39;resume&#39;</span>)) {</div>
<div class="line">    <span class="keyword">const</span> player = <span class="keyword">new</span> FastLink.player.Player(message.guild.id)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (player.playerCreated() == <span class="keyword">false</span>) {</div>
<div class="line">      message.channel.send(<span class="stringliteral">&#39;No player found.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    player.update({ paused: <span class="keyword">false</span> })</div>
<div class="line"> </div>
<div class="line">    message.channel.send(<span class="stringliteral">&#39;Resumed.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (message.content.startsWith(prefix + <span class="stringliteral">&#39;skip&#39;</span>)) {</div>
<div class="line">    <span class="keyword">const</span> player = <span class="keyword">new</span> FastLink.player.Player(message.guild.id)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (player.playerCreated() == <span class="keyword">false</span>) {</div>
<div class="line">      message.channel.send(<span class="stringliteral">&#39;No player found.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keyword">const</span> skip = player.skipTrack()</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (skip) message.channel.send(<span class="stringliteral">&#39;Skipped the current track.&#39;</span>)</div>
<div class="line">    <span class="keywordflow">else</span> message.channel.send(<span class="stringliteral">&#39;Could not skip the current track.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (message.content.startsWith(prefix + <span class="stringliteral">&#39;stop&#39;</span>)) {</div>
<div class="line">    <span class="keyword">const</span> player = <span class="keyword">new</span> FastLink.player.Player(message.guild.id)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (player.playerCreated() == <span class="keyword">false</span>) {</div>
<div class="line">      message.channel.send(<span class="stringliteral">&#39;No player found.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    player.update({ encodedTrack: <span class="keyword">null</span> })</div>
<div class="line"> </div>
<div class="line">    message.channel.send(<span class="stringliteral">&#39;Stopped the player.&#39;</span>)</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">return</span>;</div>
<div class="line">  }</div>
<div class="line">})</div>
<div class="line"> </div>
<div class="line">client.on(<span class="stringliteral">&#39;raw&#39;</span>, (data) =&gt; FastLink.other.handleRaw(data))</div>
<div class="line"> </div>
<div class="line">client.login(<span class="stringliteral">&#39;Your bot token here&#39;</span>)</div>
</div><!-- fragment --><h1><a class="anchor" id="autotoc_md6"></a>
Documentation</h1>
<p >We have a documentation for FastLink, you can find it <a href="https://performanc.github.io/FastLinkDocs/">here</a>. If you have any issue with it, please report it on GitHub Issues.</p>
<h1><a class="anchor" id="autotoc_md7"></a>
Support</h1>
<p >In case of any issue using it (except bugs, that should be reported on GitHub Issues), you are free to ask on PerformanC's <a href="https://discord.gg/uPveNfTuCJ">Discord server</a>.</p>
<h1><a class="anchor" id="autotoc_md8"></a>
License</h1>
<p >FastLink is licensed under PerformanC's custom license, which is a modified version of the MIT license. You can find it <a class="el" href="index.html#md_README">here</a></p>
<p >The license is made to protect PerformanC's software(s) and to prevent people from stealing our code. You are free to use FastLink in your projects, but you are not allowed to get any part of the code without our permission. You are also not allowed to remove the license from the project. </p>
</div></div><!-- PageDoc -->
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by&#160;<a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.4
</small></address>
</body>
</html>
