<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.6"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>FastLink: /home/system/Downloads/Projects/FastLink/index.js</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">FastLink<span id="projectnumber">&#160;2.0.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.6 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('_2home_2system_2_downloads_2_projects_2_fast_link_2index_8js-example.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="headertitle"><div class="title">/home/system/Downloads/Projects/FastLink/index.js</div></div>
</div><!--header-->
<div class="contents">
<p>const nodes = [{ hostname: 'node1.example.com', password: 'youshallnotpass', secure: true, port: 443 }]</p>
<p>const config = { botId: '123456789012345678', shards: 1, queue: false, debug: true }</p>
<p>const Event = connectNodes(nodes, config)</p>
<div class="fragment"><div class="line"><span class="keyword">import</span> <span class="keyword">event</span> from <span class="stringliteral">&#39;events&#39;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">import</span> wsEvents from <span class="stringliteral">&#39;./src/wsEvents.js&#39;</span>;</div>
<div class="line"><span class="keyword">import</span> utils from <span class="stringliteral">&#39;./src/utils.js&#39;</span>;</div>
<div class="line"> </div>
<div class="line"><span class="keyword">import</span> WebSocket from <span class="stringliteral">&#39;ws&#39;</span>;</div>
<div class="line"> </div>
<div class="line">let <a id="a0" name="a0"></a><a class="code hl_variable" href="index_8js.html#a17ef90333e50e44a3bcf3fba71365256">Config</a> = {};</div>
<div class="line">let <a id="a1" name="a1"></a><a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a> = {};</div>
<div class="line">let <a id="a2" name="a2"></a><a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a> = {};</div>
<div class="line">let <a id="a3" name="a3"></a><a class="code hl_variable" href="index_8js.html#add02804c6cec053d10b5ed04b2e40158">sessionIds</a> = {};</div>
<div class="line"> </div>
<div class="line"><span class="keyword">const</span> <a id="a4" name="a4"></a><a class="code hl_variable" href="index_8js.html#a004b250a0d6e914eef624db84d001f9c">Event</a> = <span class="keyword">new</span> event();</div>
<div class="line"> </div>
<div class="line"><span class="keyword">function</span> <a id="a5" name="a5"></a><a class="code hl_function" href="index_8js.html#a460b7a84f6e8cb4b678c7e20aa59d063">connectNodes</a>(nodes, config) {</div>
<div class="line">  <span class="keywordflow">if</span> (!nodes) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No nodes provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof nodes != <span class="stringliteral">&#39;object&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Nodes must be an array.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!config) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No config provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof config != <span class="stringliteral">&#39;object&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Config must be an object.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!config.debug) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No debug provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof config.debug != <span class="stringliteral">&#39;boolean&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Debug must be a boolean.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!config.botId) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No botId provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof config.botId != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;BotId must be a string.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!config.shards) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No shards provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof config.shards != <span class="stringliteral">&#39;number&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Shards must be a number.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (config.queue)</div>
<div class="line">    <span class="keywordflow">if</span> (typeof config.queue != <span class="stringliteral">&#39;boolean&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Queue must be a boolean.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_variable" href="index_8js.html#a17ef90333e50e44a3bcf3fba71365256">Config</a> = {</div>
<div class="line">    botId: config.botId,</div>
<div class="line">    shards: config.shards,</div>
<div class="line">    queue: config.queue || <span class="keyword">false</span></div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  utils.forEach(config, nodes, (node) =&gt; {</div>
<div class="line">    <span class="keywordflow">if</span> (!node.hostname) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No hostname provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof node.hostname != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Hostname must be a string.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!node.password) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No password provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof node.password != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Password must be a string.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (typeof node.secure != <span class="stringliteral">&#39;boolean&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Secure must be a boolean.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">if</span> (!node.port) node.port = node.secure ? 443 : 2333;</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node.hostname] = {</div>
<div class="line">      ...node,</div>
<div class="line">      connected: false,</div>
<div class="line">      sessionId: null</div>
<div class="line">    };</div>
<div class="line"> </div>
<div class="line">    let <a id="a6" name="a6"></a><a class="code hl_variable" href="index_8js.html#ae938b580c016087f7c036192e226a1a6">ws</a> = <span class="keyword">new</span> WebSocket(`ws${node.secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${node.hostname}:${node.port}/v4/websocket`, {</span></div>
<div class="line">      headers: {</div>
<div class="line">        Authorization: node.password,</div>
<div class="line">        <span class="stringliteral">&#39;Num-Shards&#39;</span>: config.shards,</div>
<div class="line">        <span class="stringliteral">&#39;User-Id&#39;</span>: config.botId,</div>
<div class="line">        <span class="stringliteral">&#39;Client-Name&#39;</span>: <span class="stringliteral">&#39;FastLink&#39;</span></div>
<div class="line">      }</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_variable" href="index_8js.html#ae938b580c016087f7c036192e226a1a6">ws</a>.on(<span class="stringliteral">&#39;open&#39;</span>, () =&gt; <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a> = wsEvents.open(node.hostname, config, <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>));</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_variable" href="index_8js.html#ae938b580c016087f7c036192e226a1a6">ws</a>.on(<span class="stringliteral">&#39;message&#39;</span>, (<a id="a7" name="a7"></a><a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>) =&gt; {</div>
<div class="line">      let temp = wsEvents.message(Event, data, node.hostname, config, Nodes, Players);</div>
<div class="line">      Nodes = temp.Nodes;</div>
<div class="line">      Players = temp.Players;</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_variable" href="index_8js.html#ae938b580c016087f7c036192e226a1a6">ws</a>.on(<span class="stringliteral">&#39;close&#39;</span>, () =&gt; {</div>
<div class="line">      let temp = wsEvents.close(Event, ws, node, config, Nodes, Players);</div>
<div class="line">      Nodes = temp.Nodes;</div>
<div class="line">      Players = temp.Players;</div>
<div class="line">      ws = temp.ws;</div>
<div class="line">    });</div>
<div class="line"> </div>
<div class="line">    <a class="code hl_variable" href="index_8js.html#ae938b580c016087f7c036192e226a1a6">ws</a>.on(<span class="stringliteral">&#39;error&#39;</span>, (err) =&gt; <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a> = wsEvents.error(err, node.hostname, config, <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>));</div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_variable" href="index_8js.html#a004b250a0d6e914eef624db84d001f9c">Event</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">function</span> <a id="a8" name="a8"></a><a class="code hl_function" href="index_8js.html#aa3029d62fb11ab74327eab8d95a16159">getRecommendedNode</a>() {</div>
<div class="line">  let node = Object.values(<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>).filter((node) =&gt; node.connected).sort((a, b) =&gt; (a.stats.systemLoad / a.stats.cores) * 100 - (b.stats.systemLoad / b.stats.cores) * 100)[0];</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!node) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No nodes connected.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> node;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">function</span> <a id="a9" name="a9"></a><a class="code hl_function" href="index_8js.html#aa3747cd596e59b93189469b9aeb4a376">createPlayer</a>(guildId) {</div>
<div class="line">  <span class="keywordflow">if</span> (!guildId) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No guildId provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof guildId != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;GuildId must be a string.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[guildId]) <span class="keywordflow">return</span> <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[guildId].node;</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">const</span> node = <a class="code hl_function" href="index_8js.html#aa3029d62fb11ab74327eab8d95a16159">getRecommendedNode</a>().hostname;</div>
<div class="line"> </div>
<div class="line">  <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[guildId] = {</div>
<div class="line">    playing: <span class="keyword">false</span>,</div>
<div class="line">    volume: <span class="keyword">null</span>,</div>
<div class="line">    node,</div>
<div class="line">  };</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (<a class="code hl_variable" href="index_8js.html#a17ef90333e50e44a3bcf3fba71365256">Config</a>.queue) <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[guildId].queue = [];</div>
<div class="line">  <span class="keywordflow">else</span> <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[guildId].track = <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> node;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">function</span> <a id="a10" name="a10"></a><a class="code hl_function" href="index_8js.html#ac6467c3401b4e92cd34330af4dcd2e8e">getPlayer</a>(guildId) {</div>
<div class="line">  <span class="keywordflow">if</span> (!guildId) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No guildId provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof guildId != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;GuildId must be a string.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[guildId]) <span class="keywordflow">return</span> <span class="keyword">null</span>;</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[guildId].node;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">class </span><a id="_a11" name="_a11"></a><a class="code hl_class" href="class_player.html">Player</a> {</div>
<div class="line">  <a id="a12" name="a12"></a><a class="code hl_function" href="class_player.html#afbeb6ea2dd439b507693be315df8db23">constructor</a>(node, guildId) {</div>
<div class="line">    <span class="keywordflow">if</span> (!node) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No node provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof node != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Node must be a string.&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node]) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Node does not exist.&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">if</span> (!guildId) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No guildId provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof guildId != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;GuildId must be a string.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">    this.node = node;</div>
<div class="line">    this.guildId = guildId;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a id="a13" name="a13"></a><a class="code hl_function" href="class_player.html#ab5477132e5b4016dd5274c224245d8f1">connect</a>(voiceId, sendPayload) {  </div>
<div class="line">    <span class="keywordflow">if</span> (!voiceId) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No voiceId provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof voiceId != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;VoiceId must be a string.&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">if</span> (!sendPayload) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No sendPayload provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof sendPayload != <span class="stringliteral">&#39;function&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;SendPayload must be a function.&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    sendPayload(this.guildId, {</div>
<div class="line">      op: 4,</div>
<div class="line">      d: {</div>
<div class="line">        guild_id: this.guildId,</div>
<div class="line">        channel_id: voiceId,</div>
<div class="line">        self_mute: <span class="keyword">false</span>,</div>
<div class="line">        self_deaf: <span class="keyword">false</span></div>
<div class="line">      }</div>
<div class="line">    });</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  async <a id="a14" name="a14"></a><a class="code hl_function" href="class_player.html#a92e21d7a6ebc848d8103df82562ceb36">loadTrack</a>(search) {  </div>
<div class="line">    <span class="keywordflow">if</span> (!search) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No search provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof search != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Search must be a string.&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    <span class="keyword">const</span> <a id="a15" name="a15"></a><a class="code hl_variable" href="class_player.html#aa2d76e1805dd447293aad0cf8777635c">data</a> = await utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[this.node].hostname}:${Nodes[this.node].port}/v4/loadtracks?identifier=${encodeURI(search)}`, {</span></div>
<div class="line">      headers: {</div>
<div class="line">        Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].password</div>
<div class="line">      },</div>
<div class="line">      port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].port,</div>
<div class="line">      method: <span class="stringliteral">&#39;GET&#39;</span></div>
<div class="line">    });</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_variable" href="class_player.html#aa2d76e1805dd447293aad0cf8777635c">data</a>;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  async <a id="a16" name="a16"></a><a class="code hl_function" href="index_8js.html#a58180a090abe32bb44cb80792d6f3a32">update</a>(body, noReplace) {  </div>
<div class="line">    <span class="keywordflow">if</span> (!body) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No body provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof body != <span class="stringliteral">&#39;object&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Body must be an object.&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">if</span> (body.encodedTrack &amp;&amp; <a class="code hl_variable" href="index_8js.html#a17ef90333e50e44a3bcf3fba71365256">Config</a>.queue) {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue.length == 0)</div>
<div class="line">        <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue = [ body.encodedTrack ];</div>
<div class="line">      <span class="keywordflow">else</span> {</div>
<div class="line">        <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue.push(body.encodedTrack);</div>
<div class="line">  </div>
<div class="line">        <span class="keywordflow">return</span>;</div>
<div class="line">      }</div>
<div class="line">    } <span class="keywordflow">else</span> <span class="keywordflow">if</span> (body.encodedTrack !== undefined) {</div>
<div class="line">      <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue = [];</div>
<div class="line">    }</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">if</span> (body.encodedTracks) {</div>
<div class="line">      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#a17ef90333e50e44a3bcf3fba71365256">Config</a>.queue) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Queue is disabled. (Config.queue = false)&#39;</span>);</div>
<div class="line">  </div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue.length == 0) {</div>
<div class="line">        <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue = body.encodedTracks;</div>
<div class="line">  </div>
<div class="line">        utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[this.node].hostname}:${Nodes[this.node].port}/v4/sessions/${Nodes[this.node].sessionId}/players/${this.guildId}`, {</span></div>
<div class="line">          headers: {</div>
<div class="line">            Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].password</div>
<div class="line">          },</div>
<div class="line">          body: { encodedTrack: body.encodedTracks[0] },</div>
<div class="line">          port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].port,</div>
<div class="line">          method: <span class="stringliteral">&#39;PATCH&#39;</span></div>
<div class="line">        });</div>
<div class="line">      } <span class="keywordflow">else</span> utils.forEach(<a class="code hl_variable" href="index_8js.html#a17ef90333e50e44a3bcf3fba71365256">Config</a>, body.encodedTracks, (track) =&gt; <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[<span class="keyword">this</span>.guildId].queue.push(track));</div>
<div class="line">  </div>
<div class="line">      <span class="keywordflow">return</span>;</div>
<div class="line">    }</div>
<div class="line">  </div>
<div class="line">    utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[this.node].hostname}:${Nodes[this.node].port}/v4/sessions/${Nodes[this.node].sessionId}/players/${this.guildId}?noReplace=${noReplace !== true ? false : true}`, {</span></div>
<div class="line">      headers: {</div>
<div class="line">        Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].password</div>
<div class="line">      },</div>
<div class="line">      body,</div>
<div class="line">      port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].port,</div>
<div class="line">      method: <span class="stringliteral">&#39;PATCH&#39;</span></div>
<div class="line">    });</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a id="a17" name="a17"></a><a class="code hl_function" href="index_8js.html#aa118461de946085fe42989193337044a">destroy</a>() {  </div>
<div class="line">    <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].players[this.guildId] = <span class="keyword">null</span>;</div>
<div class="line">  </div>
<div class="line">    utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[this.node].hostname}:${Nodes[this.node].port}/v4/sessions/${Nodes[this.node].sessionId}/players/${this.guildId}`, {</span></div>
<div class="line">      headers: {</div>
<div class="line">        Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].password</div>
<div class="line">      },</div>
<div class="line">      port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].port,</div>
<div class="line">      method: <span class="stringliteral">&#39;DELETE&#39;</span></div>
<div class="line">    });</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a id="a18" name="a18"></a><a class="code hl_function" href="index_8js.html#a3f6553bbaeb822028134d7d604bbf3e5">updateSession</a>(<a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>) {  </div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No data provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a> != <span class="stringliteral">&#39;object&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Data must be an object.&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[this.node].hostname}:${Nodes[this.node].port}/v4/sessions/${Nodes[this.node].sessionId}`, {</span></div>
<div class="line">      headers: {</div>
<div class="line">        Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].password</div>
<div class="line">      },</div>
<div class="line">      body: <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>,</div>
<div class="line">      port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].port,</div>
<div class="line">      method: <span class="stringliteral">&#39;PATCH&#39;</span></div>
<div class="line">    });</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a id="a19" name="a19"></a><a class="code hl_function" href="index_8js.html#aa7a8055e5ee1eb792f29443ddb79c4d3">getQueue</a>() {  </div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#a17ef90333e50e44a3bcf3fba71365256">Config</a>.queue) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Queue is disabled. (Config.queue = false)&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue;</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  <a id="a20" name="a20"></a><a class="code hl_function" href="index_8js.html#a2de08a5628053ac7a5182584215e8587">skipTrack</a>() {  </div>
<div class="line">    <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#a17ef90333e50e44a3bcf3fba71365256">Config</a>.queue) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Queue is disabled. (Config.queue = false)&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">if</span> (<a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue.length &gt; 0) {</div>
<div class="line">      <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue.shift();</div>
<div class="line">  </div>
<div class="line">      this.updatePlayer({ encodedTrack: <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue[0] });</div>
<div class="line">  </div>
<div class="line">      <span class="keywordflow">return</span> { skipped: <span class="keyword">true</span>, queue: <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue, track: <a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[this.guildId].queue[0] };</div>
<div class="line">    }</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">return</span> { skipped: <span class="keyword">false</span>, queue: [], track: <span class="keyword">null</span>, error: <span class="stringliteral">&#39;No tracks in queue.&#39;</span> };</div>
<div class="line">  }</div>
<div class="line"> </div>
<div class="line">  async <a id="a21" name="a21"></a><a class="code hl_function" href="index_8js.html#a9723377cd708e78466ccbea5c03440c4">decodeTrack</a>(track) {  </div>
<div class="line">    <span class="keywordflow">if</span> (!track) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No track provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof track != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Track must be a string.&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    <span class="keyword">const</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a> = await utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[this.node].hostname}:${Nodes[this.node].port}/v4/decodetrack?encodedTrack=${track}`, {</span></div>
<div class="line">      headers: {</div>
<div class="line">        Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].password</div>
<div class="line">      },</div>
<div class="line">      port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].port,</div>
<div class="line">      method: <span class="stringliteral">&#39;GET&#39;</span></div>
<div class="line">    });</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>;</div>
<div class="line">  }</div>
<div class="line">  </div>
<div class="line">  async <a id="a22" name="a22"></a><a class="code hl_function" href="index_8js.html#a62f182c11782f524a7d03edc6e58752e">decodeTracks</a>(tracks) {  </div>
<div class="line">    <span class="keywordflow">if</span> (!tracks) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No tracks provided.&#39;</span>);</div>
<div class="line">    <span class="keywordflow">if</span> (typeof tracks != <span class="stringliteral">&#39;object&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Tracks must be an array.&#39;</span>);</div>
<div class="line">  </div>
<div class="line">    <span class="keyword">const</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a> = await utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[this.node].hostname}:${Nodes[this.node].port}/v4/decodetracks`, {</span></div>
<div class="line">      headers: {</div>
<div class="line">        Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].password</div>
<div class="line">      },</div>
<div class="line">      body: tracks,</div>
<div class="line">      port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[this.node].port,</div>
<div class="line">      method: <span class="stringliteral">&#39;POST&#39;</span></div>
<div class="line">    });</div>
<div class="line">  </div>
<div class="line">    <span class="keywordflow">return</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>;</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">async <span class="keyword">function</span> <a id="a23" name="a23"></a><a class="code hl_function" href="index_8js.html#a63ef55950ce77b0b475d8b0df6407d3f">getPlayers</a>(node) {</div>
<div class="line">  <span class="keywordflow">if</span> (!node) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No node provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof node != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Node must be a string.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node]) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Node does not exist.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">const</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a> = await utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[node].hostname}:${Nodes[node].port}/v4/sessions/${Nodes[node].sessionId}/players`,{</span></div>
<div class="line">    headers: {</div>
<div class="line">      Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].password</div>
<div class="line">    },</div>
<div class="line">    port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].port,</div>
<div class="line">    method: <span class="stringliteral">&#39;GET&#39;</span></div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">async <span class="keyword">function</span> <a id="a24" name="a24"></a><a class="code hl_function" href="index_8js.html#a5cf7671a96cfbadd28c18a152ed73c2b">getInfo</a>(node) {</div>
<div class="line">  <span class="keywordflow">if</span> (!node) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No node provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof node != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Node must be a string.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node]) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Node does not exist.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">const</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a> = await utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[node].hostname}:${Nodes[node].port}/v4/info`, {</span></div>
<div class="line">    headers: {</div>
<div class="line">      Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].password</div>
<div class="line">    },</div>
<div class="line">    port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].port,</div>
<div class="line">    method: <span class="stringliteral">&#39;GET&#39;</span></div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">async <span class="keyword">function</span> <a id="a25" name="a25"></a><a class="code hl_function" href="index_8js.html#ab0f23fe893f645d1834e4e2778d8c897">getStats</a>(node) {</div>
<div class="line">  <span class="keywordflow">if</span> (!node) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No node provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof node != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Node must be a string.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node]) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Node does not exist.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">const</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a> = await utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[node].hostname}:${Nodes[node].port}/v4/stats`, {</span></div>
<div class="line">    headers: {</div>
<div class="line">      Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].password</div>
<div class="line">    },</div>
<div class="line">    port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].port,</div>
<div class="line">    method: <span class="stringliteral">&#39;GET&#39;</span></div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">async <span class="keyword">function</span> <a id="a26" name="a26"></a><a class="code hl_function" href="index_8js.html#a5d542c75ae2738ffcc6d10740941c8f7">getVersion</a>(node) {</div>
<div class="line">  <span class="keywordflow">if</span> (!node) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;No node provided.&#39;</span>);</div>
<div class="line">  <span class="keywordflow">if</span> (typeof node != <span class="stringliteral">&#39;string&#39;</span>) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Node must be a string.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node]) <span class="keywordflow">throw</span> <span class="keyword">new</span> Error(<span class="stringliteral">&#39;Node does not exist.&#39;</span>);</div>
<div class="line"> </div>
<div class="line">  <span class="keyword">const</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a> = await utils.makeRequest(`http${<a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].secure ? <span class="charliteral">&#39;s&#39;</span> : <span class="stringliteral">&#39;&#39;</span>}:<span class="comment">//${Nodes[node].hostname}:${Nodes[node].port}/version`, {</span></div>
<div class="line">    headers: {</div>
<div class="line">      Authorization: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].password</div>
<div class="line">    },</div>
<div class="line">    port: <a class="code hl_variable" href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a>[node].port,</div>
<div class="line">    method: <span class="stringliteral">&#39;GET&#39;</span></div>
<div class="line">  });</div>
<div class="line"> </div>
<div class="line">  <span class="keywordflow">return</span> <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>;</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line"><span class="keyword">function</span> <a id="a27" name="a27"></a><a class="code hl_function" href="index_8js.html#a2cf99e827e15b86bc79f2cb19011dcee">handleRaw</a>(<a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>) {</div>
<div class="line">  <span class="keywordflow">switch</span> (<a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.t) {</div>
<div class="line">    <span class="keywordflow">case</span> <span class="stringliteral">&#39;VOICE_SERVER_UPDATE&#39;</span>: {</div>
<div class="line">      <span class="keywordflow">if</span> (!<a class="code hl_variable" href="index_8js.html#add02804c6cec053d10b5ed04b2e40158">sessionIds</a>[<a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.d.guild_id]) <span class="keywordflow">return</span>;</div>
<div class="line"> </div>
<div class="line">      <span class="keyword">const</span> player = <span class="keyword">new</span> <a class="code hl_class" href="class_player.html">Player</a>(<a class="code hl_variable" href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a>[<a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.d.guild_id].node, <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.d.guild_id);</div>
<div class="line"> </div>
<div class="line">      player.update({</div>
<div class="line">        voice: {</div>
<div class="line">          token: <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.d.token,</div>
<div class="line">          endpoint: <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.d.endpoint,</div>
<div class="line">          sessionId: <a class="code hl_variable" href="index_8js.html#add02804c6cec053d10b5ed04b2e40158">sessionIds</a>[<a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.d.guild_id]</div>
<div class="line">        }</div>
<div class="line">      });</div>
<div class="line"> </div>
<div class="line">      <span class="keyword">delete</span> <a class="code hl_variable" href="index_8js.html#add02804c6cec053d10b5ed04b2e40158">sessionIds</a>[<a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.d.guild_id];</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line"> </div>
<div class="line">    <span class="keywordflow">case</span> <span class="stringliteral">&#39;VOICE_STATE_UPDATE&#39;</span>: {</div>
<div class="line">      <span class="keywordflow">if</span> (<a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.d.member.user.id == <a class="code hl_variable" href="index_8js.html#a17ef90333e50e44a3bcf3fba71365256">Config</a>.botId)</div>
<div class="line">        <a class="code hl_variable" href="index_8js.html#add02804c6cec053d10b5ed04b2e40158">sessionIds</a>[<a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.d.guild_id] = <a class="code hl_variable" href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a>.d.session_id;</div>
<div class="line"> </div>
<div class="line">      <span class="keywordflow">break</span>;</div>
<div class="line">    }</div>
<div class="line">  }</div>
<div class="line">}</div>
<div class="line"> </div>
<div class="line">export <span class="keywordflow">default</span> {</div>
<div class="line">  node: {</div>
<div class="line">    <a class="code hl_function" href="index_8js.html#a460b7a84f6e8cb4b678c7e20aa59d063">connectNodes</a></div>
<div class="line">  },</div>
<div class="line">  player: {</div>
<div class="line">    <a class="code hl_function" href="index_8js.html#aa3747cd596e59b93189469b9aeb4a376">createPlayer</a>,</div>
<div class="line">    <a class="code hl_function" href="index_8js.html#ac6467c3401b4e92cd34330af4dcd2e8e">getPlayer</a>,</div>
<div class="line">    <a class="code hl_class" href="class_player.html">Player</a>,</div>
<div class="line">    <a class="code hl_function" href="index_8js.html#a63ef55950ce77b0b475d8b0df6407d3f">getPlayers</a></div>
<div class="line">  },</div>
<div class="line">  other: {</div>
<div class="line">    <a class="code hl_function" href="index_8js.html#a5cf7671a96cfbadd28c18a152ed73c2b">getInfo</a>,</div>
<div class="line">    <a class="code hl_function" href="index_8js.html#ab0f23fe893f645d1834e4e2778d8c897">getStats</a>,</div>
<div class="line">    <a class="code hl_function" href="index_8js.html#a5d542c75ae2738ffcc6d10740941c8f7">getVersion</a>,</div>
<div class="line">    <a class="code hl_function" href="index_8js.html#a2cf99e827e15b86bc79f2cb19011dcee">handleRaw</a></div>
<div class="line">  }</div>
<div class="line">};</div>
<div class="ttc" id="aclass_player_html"><div class="ttname"><a href="class_player.html">Player</a></div><div class="ttdef"><b>Definition:</b> index.js:174</div></div>
<div class="ttc" id="aclass_player_html_a92e21d7a6ebc848d8103df82562ceb36"><div class="ttname"><a href="class_player.html#a92e21d7a6ebc848d8103df82562ceb36">Player::loadTrack</a></div><div class="ttdeci">async loadTrack(search)</div><div class="ttdef"><b>Definition:</b> index.js:230</div></div>
<div class="ttc" id="aclass_player_html_aa2d76e1805dd447293aad0cf8777635c"><div class="ttname"><a href="class_player.html#aa2d76e1805dd447293aad0cf8777635c">Player::data</a></div><div class="ttdeci">return data</div><div class="ttdef"><b>Definition:</b> index.js:242</div></div>
<div class="ttc" id="aclass_player_html_ab5477132e5b4016dd5274c224245d8f1"><div class="ttname"><a href="class_player.html#ab5477132e5b4016dd5274c224245d8f1">Player::connect</a></div><div class="ttdeci">connect(voiceId, sendPayload)</div><div class="ttdef"><b>Definition:</b> index.js:204</div></div>
<div class="ttc" id="aclass_player_html_afbeb6ea2dd439b507693be315df8db23"><div class="ttname"><a href="class_player.html#afbeb6ea2dd439b507693be315df8db23">Player::constructor</a></div><div class="ttdeci">constructor(node, guildId)</div><div class="ttdef"><b>Definition:</b> index.js:183</div></div>
<div class="ttc" id="aindex_8js_html_a004b250a0d6e914eef624db84d001f9c"><div class="ttname"><a href="index_8js.html#a004b250a0d6e914eef624db84d001f9c">Event</a></div><div class="ttdeci">const Event</div><div class="ttdef"><b>Definition:</b> index.js:13</div></div>
<div class="ttc" id="aindex_8js_html_a17ef90333e50e44a3bcf3fba71365256"><div class="ttname"><a href="index_8js.html#a17ef90333e50e44a3bcf3fba71365256">Config</a></div><div class="ttdeci">let Config</div><div class="ttdef"><b>Definition:</b> index.js:8</div></div>
<div class="ttc" id="aindex_8js_html_a2cf99e827e15b86bc79f2cb19011dcee"><div class="ttname"><a href="index_8js.html#a2cf99e827e15b86bc79f2cb19011dcee">handleRaw</a></div><div class="ttdeci">function handleRaw(data)</div><div class="ttdef"><b>Definition:</b> index.js:517</div></div>
<div class="ttc" id="aindex_8js_html_a2de08a5628053ac7a5182584215e8587"><div class="ttname"><a href="index_8js.html#a2de08a5628053ac7a5182584215e8587">skipTrack</a></div><div class="ttdeci">skipTrack()</div><div class="ttdef"><b>Definition:</b> index.js:355</div></div>
<div class="ttc" id="aindex_8js_html_a3f6553bbaeb822028134d7d604bbf3e5"><div class="ttname"><a href="index_8js.html#a3f6553bbaeb822028134d7d604bbf3e5">updateSession</a></div><div class="ttdeci">updateSession(data)</div><div class="ttdef"><b>Definition:</b> index.js:323</div></div>
<div class="ttc" id="aindex_8js_html_a460b7a84f6e8cb4b678c7e20aa59d063"><div class="ttname"><a href="index_8js.html#a460b7a84f6e8cb4b678c7e20aa59d063">connectNodes</a></div><div class="ttdeci">function connectNodes(nodes, config)</div><div class="ttdef"><b>Definition:</b> index.js:40</div></div>
<div class="ttc" id="aindex_8js_html_a58180a090abe32bb44cb80792d6f3a32"><div class="ttname"><a href="index_8js.html#a58180a090abe32bb44cb80792d6f3a32">update</a></div><div class="ttdeci">async update(body, noReplace)</div><div class="ttdef"><b>Definition:</b> index.js:253</div></div>
<div class="ttc" id="aindex_8js_html_a5cf7671a96cfbadd28c18a152ed73c2b"><div class="ttname"><a href="index_8js.html#a5cf7671a96cfbadd28c18a152ed73c2b">getInfo</a></div><div class="ttdeci">function async getInfo(node)</div><div class="ttdef"><b>Definition:</b> index.js:446</div></div>
<div class="ttc" id="aindex_8js_html_a5d542c75ae2738ffcc6d10740941c8f7"><div class="ttname"><a href="index_8js.html#a5d542c75ae2738ffcc6d10740941c8f7">getVersion</a></div><div class="ttdeci">function async getVersion(node)</div><div class="ttdef"><b>Definition:</b> index.js:494</div></div>
<div class="ttc" id="aindex_8js_html_a62f182c11782f524a7d03edc6e58752e"><div class="ttname"><a href="index_8js.html#a62f182c11782f524a7d03edc6e58752e">decodeTracks</a></div><div class="ttdeci">async decodeTracks(tracks)</div><div class="ttdef"><b>Definition:</b> index.js:398</div></div>
<div class="ttc" id="aindex_8js_html_a63ef55950ce77b0b475d8b0df6407d3f"><div class="ttname"><a href="index_8js.html#a63ef55950ce77b0b475d8b0df6407d3f">getPlayers</a></div><div class="ttdeci">function async getPlayers(node)</div><div class="ttdef"><b>Definition:</b> index.js:422</div></div>
<div class="ttc" id="aindex_8js_html_a6c8a9369acdd52842a9fe104e85978fa"><div class="ttname"><a href="index_8js.html#a6c8a9369acdd52842a9fe104e85978fa">Players</a></div><div class="ttdeci">let Players</div><div class="ttdef"><b>Definition:</b> index.js:10</div></div>
<div class="ttc" id="aindex_8js_html_a718c1bf5a3bf21ebb980203b142e5b75"><div class="ttname"><a href="index_8js.html#a718c1bf5a3bf21ebb980203b142e5b75">data</a></div><div class="ttdeci">return data</div><div class="ttdef"><b>Definition:</b> index.js:388</div></div>
<div class="ttc" id="aindex_8js_html_a9723377cd708e78466ccbea5c03440c4"><div class="ttname"><a href="index_8js.html#a9723377cd708e78466ccbea5c03440c4">decodeTrack</a></div><div class="ttdeci">async decodeTrack(track)</div><div class="ttdef"><b>Definition:</b> index.js:376</div></div>
<div class="ttc" id="aindex_8js_html_aa118461de946085fe42989193337044a"><div class="ttname"><a href="index_8js.html#aa118461de946085fe42989193337044a">destroy</a></div><div class="ttdeci">destroy()</div><div class="ttdef"><b>Definition:</b> index.js:304</div></div>
<div class="ttc" id="aindex_8js_html_aa3029d62fb11ab74327eab8d95a16159"><div class="ttname"><a href="index_8js.html#aa3029d62fb11ab74327eab8d95a16159">getRecommendedNode</a></div><div class="ttdeci">function getRecommendedNode()</div><div class="ttdef"><b>Definition:</b> index.js:112</div></div>
<div class="ttc" id="aindex_8js_html_aa3747cd596e59b93189469b9aeb4a376"><div class="ttname"><a href="index_8js.html#aa3747cd596e59b93189469b9aeb4a376">createPlayer</a></div><div class="ttdeci">function createPlayer(guildId)</div><div class="ttdef"><b>Definition:</b> index.js:129</div></div>
<div class="ttc" id="aindex_8js_html_aa7a8055e5ee1eb792f29443ddb79c4d3"><div class="ttname"><a href="index_8js.html#aa7a8055e5ee1eb792f29443ddb79c4d3">getQueue</a></div><div class="ttdeci">getQueue()</div><div class="ttdef"><b>Definition:</b> index.js:343</div></div>
<div class="ttc" id="aindex_8js_html_aafd4de2fb3fac9a2fda34c6180f3087f"><div class="ttname"><a href="index_8js.html#aafd4de2fb3fac9a2fda34c6180f3087f">Nodes</a></div><div class="ttdeci">let Nodes</div><div class="ttdef"><b>Definition:</b> index.js:9</div></div>
<div class="ttc" id="aindex_8js_html_ab0f23fe893f645d1834e4e2778d8c897"><div class="ttname"><a href="index_8js.html#ab0f23fe893f645d1834e4e2778d8c897">getStats</a></div><div class="ttdeci">function async getStats(node)</div><div class="ttdef"><b>Definition:</b> index.js:470</div></div>
<div class="ttc" id="aindex_8js_html_ac6467c3401b4e92cd34330af4dcd2e8e"><div class="ttname"><a href="index_8js.html#ac6467c3401b4e92cd34330af4dcd2e8e">getPlayer</a></div><div class="ttdeci">function getPlayer(guildId)</div><div class="ttdef"><b>Definition:</b> index.js:157</div></div>
<div class="ttc" id="aindex_8js_html_add02804c6cec053d10b5ed04b2e40158"><div class="ttname"><a href="index_8js.html#add02804c6cec053d10b5ed04b2e40158">sessionIds</a></div><div class="ttdeci">let sessionIds</div><div class="ttdef"><b>Definition:</b> index.js:11</div></div>
<div class="ttc" id="aindex_8js_html_ae938b580c016087f7c036192e226a1a6"><div class="ttname"><a href="index_8js.html#ae938b580c016087f7c036192e226a1a6">ws</a></div><div class="ttdeci">import WebSocket from ws</div><div class="ttdef"><b>Definition:</b> index.js:6</div></div>
</div><!-- fragment --> </div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.6 </li>
  </ul>
</div>
</body>
</html>
